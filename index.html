<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TriviaRush - Live Battle Royale Tournament</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
        
        @keyframes prizeGlow {
            0% { box-shadow: 0 0 5px rgba(34, 197, 94, 0.5); }
            50% { box-shadow: 0 0 20px rgba(34, 197, 94, 0.8), 0 0 30px rgba(34, 197, 94, 0.4); }
            100% { box-shadow: 0 0 5px rgba(34, 197, 94, 0.5); }
        }
        
        .prize-glow {
            animation: prizeGlow 1.5s ease-in-out infinite;
        }
        
        @keyframes slideIn {
            0% { transform: translateX(100%); opacity: 0; }
            100% { transform: translateX(0); opacity: 1; }
        }
        
        .slide-in {
            animation: slideIn 0.6s ease-out;
        }
        
        @keyframes pulse-green {
            0%, 100% { background-color: rgba(34, 197, 94, 0.1); }
            50% { background-color: rgba(34, 197, 94, 0.3); }
        }
        
        .pulse-green {
            animation: pulse-green 1s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // Lucide React icons as simple SVG components
        const Crown = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M2 20h20l-2-6L18 8l-4 4-2-8-2 8-4-4-2 6-2 6z"/>
                <path d="M6 18h12"/>
            </svg>
        );

        const Users = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
                <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
        );

        const DollarSign = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="12" y1="1" x2="12" y2="23"/>
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
            </svg>
        );

        const Trophy = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="8" y1="21" x2="16" y2="21"/>
                <line x1="12" y1="17" x2="12" y2="21"/>
                <path d="M7 4V2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v2"/>
                <path d="M7 4h10l-1 7H8l-1-7Z"/>
                <path d="M9 9v1a3 3 0 0 0 6 0v-1"/>
            </svg>
        );

        const TrendingUp = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="22,7 13.5,15.5 8.5,10.5 2,17"/>
                <polyline points="16,7 22,7 22,13"/>
            </svg>
        );

        const Clock = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12,6 12,12 16,14"/>
            </svg>
        );

        const Zap = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polygon points="13,2 3,14 12,14 11,22 21,10 12,10 13,2"/>
            </svg>
        );

        const Target = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );

        const TriviaRush = () => {
          const [gameState, setGameState] = useState('lobby'); // 'lobby', 'question', 'results', 'break', 'eliminated', 'winner'
          const [currentQuestion, setCurrentQuestion] = useState(0);
          const [timer, setTimer] = useState(30);
          const [playerCount, setPlayerCount] = useState(8347);
          const [userPosition, setUserPosition] = useState(null);
          const [selectedAnswer, setSelectedAnswer] = useState(null);
          const [userEliminated, setUserEliminated] = useState(false);
          const [prizePool, setPrizePool] = useState(41735);
          const [gameMode, setGameMode] = useState('free'); // 'free' or 'paid'
          const [celebration, setCelebration] = useState(false);
          const [showCorrectAnswer, setShowCorrectAnswer] = useState(false);
          const [previousPrize, setPreviousPrize] = useState(0);
          const [prizeGrowth, setPrizeGrowth] = useState(false);
          const [waitingForResults, setWaitingForResults] = useState(false);

          const questions = [
            {
              question: "What is the capital of France?",
              options: ["London", "Berlin", "Paris", "Madrid"],
              correct: 2,
              survivalRate: 0.75
            },
            {
              question: "What year did World War II end?",
              options: ["1944", "1945", "1946", "1943"],
              correct: 1,
              survivalRate: 0.65
            },
            {
              question: "Which planet is known as the Red Planet?",
              options: ["Venus", "Mars", "Jupiter", "Saturn"],
              correct: 1,
              survivalRate: 0.80
            },
            {
              question: "Who wrote 'Romeo and Juliet'?",
              options: ["Charles Dickens", "William Shakespeare", "Jane Austen", "Mark Twain"],
              correct: 1,
              survivalRate: 0.70
            },
            {
              question: "What is the largest ocean on Earth?",
              options: ["Atlantic", "Indian", "Arctic", "Pacific"],
              correct: 3,
              survivalRate: 0.60
            },
            {
              question: "Which element has the chemical symbol 'O'?",
              options: ["Gold", "Oxygen", "Silver", "Iron"],
              correct: 1,
              survivalRate: 0.85
            },
            {
              question: "In what year was the iPhone first released?",
              options: ["2006", "2007", "2008", "2009"],
              correct: 1,
              survivalRate: 0.45
            },
            {
              question: "What is the smallest prime number?",
              options: ["1", "2", "3", "0"],
              correct: 1,
              survivalRate: 0.35
            }
          ];

          useEffect(() => {
            let interval;
            
            if (gameState === 'lobby' && timer > 0) {
              interval = setInterval(() => {
                setTimer(prev => {
                  if (prev <= 1) {
                    startQuestion();
                    return 12;
                  }
                  return prev - 1;
                });
              }, 1000);
            } else if (gameState === 'question' && timer > 0) {
              interval = setInterval(() => {
                setTimer(prev => {
                  if (prev <= 1) {
                    // Time's up - show results
                    if (selectedAnswer === null) {
                      setSelectedAnswer(-1); // Mark as timed out
                    }
                    showResults();
                    return 0;
                  }
                  return prev - 1;
                });
              }, 1000);
            } else if (gameState === 'break' && timer > 0) {
              interval = setInterval(() => {
                setTimer(prev => {
                  if (prev <= 1) {
                    nextQuestion();
                    return 12;
                  }
                  return prev - 1;
                });
              }, 1000);
            }

            return () => clearInterval(interval);
          }, [gameState, timer, selectedAnswer]);

          const startQuestion = () => {
            setGameState('question');
            setSelectedAnswer(null);
            setShowCorrectAnswer(false);
            setWaitingForResults(false);
            setTimer(12);
          };

          const selectAnswer = (answerIndex) => {
            if (selectedAnswer !== null || waitingForResults) return;
            setSelectedAnswer(answerIndex);
            setWaitingForResults(true);
            // Don't call showResults here - let the timer run out naturally
          };

          const showResults = () => {
            const question = questions[currentQuestion];
            const wasCorrect = selectedAnswer === question.correct;
            const timedOut = selectedAnswer === -1;
            
            setShowCorrectAnswer(true);
            setWaitingForResults(false);
            
            // Calculate new player count
            const newPlayerCount = Math.floor(playerCount * question.survivalRate);
            
            // Calculate prize increase BEFORE updating player count state
            if (gameMode === 'paid' && !timedOut && wasCorrect && !userEliminated) {
              const oldPrize = Math.floor(prizePool / playerCount);
              const newPrize = Math.floor(prizePool / newPlayerCount);
              setPreviousPrize(oldPrize);
              
              if (newPrize > oldPrize) {
                setPrizeGrowth(true);
                setTimeout(() => setPrizeGrowth(false), 2000);
              }
            }
            
            // Now update the player count state
            setPlayerCount(newPlayerCount);
            
            // Handle user elimination only if wrong answer or timeout
            if (!wasCorrect || timedOut) {
              setUserEliminated(true);
            } else if (!userEliminated) {
              // User got it right - update position
              const newPosition = Math.floor(Math.random() * Math.min(newPlayerCount, 100)) + 1;
              setUserPosition(newPosition);
              
              if (newPosition <= 10) {
                setCelebration(true);
                setTimeout(() => setCelebration(false), 1500);
              }
            }
            
            setGameState('results');
            
            // Auto-progress after showing results for 3 seconds
            setTimeout(() => {
              if (currentQuestion >= questions.length - 1) {
                // Game is over
                if (!userEliminated && (wasCorrect && !timedOut)) {
                  setGameState('winner');
                  setCelebration(true);
                  setTimeout(() => setCelebration(false), 3000);
                } else {
                  setGameState('eliminated');
                }
              } else if (userEliminated || (!wasCorrect || timedOut)) {
                setGameState('eliminated');
              } else {
                setGameState('break');
                setTimer(15);
              }
            }, 3000);
          };

          const nextQuestion = () => {
            setCurrentQuestion(prev => prev + 1);
            setGameState('question');
            setSelectedAnswer(null);
            setShowCorrectAnswer(false);
            setWaitingForResults(false);
            setTimer(12);
          };

          const skipTimer = () => {
            if (gameState === 'lobby') {
              startQuestion();
            } else if (gameState === 'question') {
              if (selectedAnswer === null) {
                setSelectedAnswer(-1);
              }
              showResults();
            } else if (gameState === 'break') {
              nextQuestion();
            } else if (gameState === 'results') {
              if (currentQuestion >= questions.length - 1) {
                if (!userEliminated) {
                  setGameState('winner');
                  setCelebration(true);
                  setTimeout(() => setCelebration(false), 3000);
                } else {
                  setGameState('eliminated');
                }
              } else if (userEliminated) {
                setGameState('eliminated');
              } else {
                setGameState('break');
                setTimer(15);
              }
            }
          };

          const resetGame = () => {
            setGameState('lobby');
            setCurrentQuestion(0);
            setTimer(30);
            setPlayerCount(Math.floor(Math.random() * 2000) + 7000);
            setUserPosition(null);
            setSelectedAnswer(null);
            setUserEliminated(false);
            setShowCorrectAnswer(false);
            setPrizePool(gameMode === 'paid' ? Math.floor(Math.random() * 20000) + 30000 : Math.floor(Math.random() * 500) + 200);
            setCelebration(false);
            setPreviousPrize(0);
            setPrizeGrowth(false);
            setWaitingForResults(false);
          };

          const currentQ = questions[currentQuestion];
          const currentPrizePerWinner = gameMode === 'paid' && playerCount > 0 ? Math.floor(prizePool / playerCount) : 0;

          return (
            <div className={`min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 text-white p-4 ${celebration ? 'animate-pulse' : ''}`}>
              <div className="max-w-lg mx-auto">
                
                {/* Header */}
                <div className="text-center mb-6">
                  <h1 className="text-4xl font-bold bg-gradient-to-r from-yellow-400 to-red-400 bg-clip-text text-transparent mb-2">
                    TriviaRush
                  </h1>
                  <p className="text-gray-300 text-sm">Live Battle Royale ‚Ä¢ Daily 8PM EST</p>
                  
                  {/* Mode Toggle */}
                  <div className="flex justify-center mt-4">
                    <div className="bg-gray-800 rounded-lg p-1 flex">
                      <button
                        onClick={() => {
                          setGameMode('free');
                          setPrizePool(Math.floor(Math.random() * 500) + 200);
                        }}
                        className={`px-4 py-2 rounded text-sm font-medium transition-colors ${
                          gameMode === 'free' 
                            ? 'bg-blue-600 text-white' 
                            : 'text-gray-400 hover:text-white'
                        }`}
                      >
                        Free Play
                      </button>
                      <button
                        onClick={() => {
                          setGameMode('paid');
                          setPrizePool(Math.floor(Math.random() * 20000) + 30000);
                        }}
                        className={`px-4 py-2 rounded text-sm font-medium transition-colors ${
                          gameMode === 'paid' 
                            ? 'bg-yellow-600 text-white' 
                            : 'text-gray-400 hover:text-white'
                        }`}
                      >
                        Wagers
                      </button>
                    </div>
                  </div>
                </div>

                {/* Live Prize Display - Prominent */}
                {gameMode === 'paid' && !userEliminated && gameState !== 'lobby' && playerCount > 0 && (
                  <div className={`mb-4 text-center ${prizeGrowth ? 'prize-glow' : ''}`}>
                    <div className={`inline-flex items-center gap-3 px-6 py-3 rounded-lg border-2 ${prizeGrowth ? 'bg-green-600/30 border-green-400 pulse-green' : 'bg-green-600/20 border-green-500'}`}>
                      <DollarSign className="text-green-400" size={24} />
                      <div>
                        <div className="text-2xl font-bold text-green-300">
                          ${currentPrizePerWinner.toLocaleString()}
                        </div>
                        <div className="text-xs text-green-400">
                          Your potential prize
                        </div>
                        {prizeGrowth && previousPrize > 0 && (
                          <div className="text-yellow-300 text-sm font-bold animate-pulse">
                            +${(currentPrizePerWinner - previousPrize).toLocaleString()}!
                          </div>
                        )}
                      </div>
                    </div>
                  </div>
                )}

                {/* Game Stats */}
                <div className="grid grid-cols-3 gap-3 mb-6">
                  <div className="bg-gray-800/70 rounded-lg p-3 text-center border border-gray-700">
                    <Users className="mx-auto mb-1 text-blue-400" size={16} />
                    <div className="text-lg font-bold">{playerCount.toLocaleString()}</div>
                    <div className="text-xs text-gray-400">Players</div>
                  </div>
                  <div className="bg-gray-800/70 rounded-lg p-3 text-center border border-gray-700">
                    <DollarSign className="mx-auto mb-1 text-green-400" size={16} />
                    <div className="text-lg font-bold">${prizePool.toLocaleString()}</div>
                    <div className="text-xs text-gray-400">Total Pool</div>
                  </div>
                  <div className="bg-gray-800/70 rounded-lg p-3 text-center border border-gray-700">
                    <Trophy className="mx-auto mb-1 text-yellow-400" size={16} />
                    <div className="text-lg font-bold">Q{currentQuestion + 1}</div>
                    <div className="text-xs text-gray-400">of {questions.length}</div>
                  </div>
                </div>

                {/* Main Game Area */}
                <div className="bg-gray-800/70 rounded-xl border border-gray-700 overflow-hidden backdrop-blur-sm">
                  
                  {/* Lobby State */}
                  {gameState === 'lobby' && (
                    <div className="p-8 text-center">
                      <Clock className="mx-auto text-blue-400 mb-4" size={48} />
                      <h2 className="text-2xl font-bold mb-4">Game Starting Soon!</h2>
                      <div className="text-6xl font-bold text-blue-400 mb-4">
                        {timer}
                      </div>
                      <p className="text-gray-300 mb-4">
                        {playerCount.toLocaleString()} players ready to battle!
                      </p>
                      <div className="bg-gray-700/50 rounded-lg p-4">
                        <p className="text-sm text-gray-300">
                          {gameMode === 'paid' 
                            ? `$5 entry ‚Ä¢ Winners split $${prizePool.toLocaleString()}` 
                            : `Free to play ‚Ä¢ Win points and bragging rights!`
                          }
                        </p>
                      </div>
                    </div>
                  )}

                  {/* Question State */}
                  {gameState === 'question' && currentQ && (
                    <div className="p-6">
                      <div className="text-center mb-6">
                        <div className={`text-4xl font-bold mb-4 ${timer <= 3 ? 'text-red-400 animate-pulse' : waitingForResults ? 'text-yellow-400' : 'text-green-400'}`}>
                          {timer}
                        </div>
                        {waitingForResults && (
                          <div className="text-yellow-400 text-sm mb-2 animate-pulse">
                            Waiting for time to run out...
                          </div>
                        )}
                        <h3 className="text-lg font-semibold text-gray-200 mb-4">
                          Question {currentQuestion + 1}
                        </h3>
                        <p className="text-xl font-medium text-white mb-6">
                          {currentQ.question}
                        </p>
                      </div>
                      
                      <div className="grid grid-cols-1 gap-3">
                        {currentQ.options.map((option, index) => (
                          <button
                            key={index}
                            onClick={() => selectAnswer(index)}
                            disabled={selectedAnswer !== null || waitingForResults}
                            className={`p-4 rounded-lg text-left font-medium transition-all transform hover:scale-105 disabled:hover:scale-100 ${
                              selectedAnswer === index
                                ? 'bg-blue-600 border-2 border-blue-400 scale-105' 
                                : 'bg-gray-700 hover:bg-gray-600 border-2 border-transparent'
                            } ${waitingForResults && selectedAnswer !== index ? 'opacity-50' : ''}`}
                          >
                            <span className="font-bold mr-3 text-yellow-400">
                              {String.fromCharCode(65 + index)}.
                            </span>
                            {option}
                          </button>
                        ))}
                      </div>
                      
                      {/* Current Position Display */}
                      {userPosition && !userEliminated && (
                        <div className="mt-4 text-center">
                          <div className="inline-flex items-center gap-2 bg-yellow-600/20 px-3 py-1 rounded-full">
                            <TrendingUp size={16} className="text-yellow-400" />
                            <span className="text-yellow-400 font-semibold">
                              Rank #{userPosition}
                            </span>
                          </div>
                        </div>
                      )}
                    </div>
                  )}

                  {/* Results State */}
                  {gameState === 'results' && currentQ && (
                    <div className="p-6 text-center">
                      {selectedAnswer === currentQ.correct && selectedAnswer !== -1 && !userEliminated ? (
                        <div className="space-y-4">
                          <div className="relative">
                            <div className="text-green-400 text-6xl mb-3 animate-bounce">‚úì</div>
                            <div className="absolute -top-2 left-1/2 transform -translate-x-1/2">
                              <div className="bg-green-400 rounded-full w-20 h-20 opacity-20 animate-ping"></div>
                            </div>
                          </div>
                          <h2 className="text-3xl font-bold text-green-400 mb-2">CORRECT!</h2>
                          <div className="bg-green-400/20 rounded-lg p-4 border-2 border-green-400/50">
                            <p className="text-green-300 font-semibold text-lg mb-2">
                              üéØ You advance to the next round!
                            </p>
                            {userPosition && userPosition <= 10 && (
                              <div className="bg-yellow-400/20 rounded-lg p-3 border border-yellow-400/50 mb-3">
                                <div className="text-yellow-300 font-bold text-xl">
                                  üî• TOP 10! Rank #{userPosition}
                                </div>
                              </div>
                            )}
                            {userPosition && userPosition > 10 && (
                              <div className="text-blue-300 font-semibold mb-3">
                                Ladder Position: #{userPosition}
                              </div>
                            )}
                          </div>
                        </div>
                      ) : (
                        <div className="space-y-4">
                          <div className="relative">
                            <div className="text-red-400 text-6xl mb-3">üí•</div>
                            <div className="absolute -top-2 left-1/2 transform -translate-x-1/2">
                              <div className="bg-red-400 rounded-full w-20 h-20 opacity-20 animate-ping"></div>
                            </div>
                          </div>
                          <h2 className="text-3xl font-bold text-red-400 mb-2">ELIMINATED!</h2>
                          <div className="bg-red-400/20 rounded-lg p-4 border-2 border-red-400/50">
                            <p className="text-red-300 font-semibold mb-3">
                              {selectedAnswer === -1 ? "‚è∞ Time's up!" : "‚ùå Wrong answer!"}
                            </p>
                            <div className="bg-gray-700/50 rounded p-3">
                              <p className="text-gray-300 mb-2">The correct answer was:</p>
                              <p className="font-bold text-green-400 text-lg">
                                {String.fromCharCode(65 + currentQ.correct)}. {currentQ.options[currentQ.correct]}
                              </p>
                            </div>
                          </div>
                        </div>
                      )}
                      
                      <div className="mt-6">
                        <div className="bg-gray-700/50 rounded-lg p-4">
                          <div className="flex items-center justify-center gap-2 mb-2">
                            <Users className="text-blue-400" size={20} />
                            <span className="text-2xl font-bold text-blue-400">
                              {playerCount.toLocaleString()}
                            </span>
                          </div>
                          <div className="text-gray-300 text-sm">
                            Players advancing to next round
                          </div>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* Break State */}
                  {gameState === 'break' && (
                    <div className="p-6 text-center">
                      <Zap className="mx-auto text-yellow-400 mb-4" size={48} />
                      <h2 className="text-xl font-semibold mb-4">Next Question Starting...</h2>
                      <div className="text-4xl font-bold text-yellow-400 mb-4">
                        {timer}
                      </div>
                      <div className="bg-gray-700/50 rounded-lg p-4 mb-4">
                        <p className="text-gray-300 mb-2">
                          {playerCount.toLocaleString()} players advancing to Question {currentQuestion + 2}
                        </p>
                        {userPosition && (
                          <div className="bg-yellow-600/20 rounded p-3 border border-yellow-400/50 mb-3">
                            <p className="text-yellow-300 font-semibold">
                              üéØ Your current rank: #{userPosition}
                            </p>
                          </div>
                        )}
                        {gameMode === 'paid' && !userEliminated && (
                          <div className="bg-green-600/20 rounded p-3 border border-green-400/50">
                            <div className="text-green-300 font-bold text-lg mb-1">
                              üí∞ If You Win Now: ${currentPrizePerWinner.toLocaleString()}
                            </div>
                            <div className="text-green-400 text-sm">
                              üíé Prize keeps growing as more players are eliminated!
                            </div>
                          </div>
                        )}
                      </div>
                    </div>
                  )}

                  {/* Winner State */}
                  {gameState === 'winner' && (
                    <div className="p-6 text-center">
                      <div className="relative mb-6">
                        <Crown className="mx-auto text-yellow-400 mb-4" size={64} />
                        <div className="absolute -top-4 left-1/2 transform -translate-x-1/2">
                          <div className="bg-yellow-400 rounded-full w-24 h-24 opacity-20 animate-ping"></div>
                        </div>
                      </div>
                      <h2 className="text-4xl font-bold text-yellow-400 mb-4">üèÜ CHAMPION! üèÜ</h2>
                      <div className="bg-gradient-to-r from-yellow-400/20 to-orange-400/20 rounded-lg p-6 border-2 border-yellow-400/50 mb-4">
                        <p className="text-yellow-300 text-lg font-semibold mb-4">
                          You survived all {questions.length} questions!
                        </p>
                        <div className="space-y-3">
                          <div className="bg-yellow-600/30 rounded-lg p-3">
                            <div className="text-2xl font-bold text-yellow-400 mb-1">
                              Final Rank: #{userPosition || 1}
                            </div>
                          </div>
                          {gameMode === 'paid' && (
                            <div className="bg-green-600/30 rounded-lg p-3 prize-glow">
                              <div className="text-xl font-bold text-green-400">
                                üí∞ Your Prize: ${currentPrizePerWinner.toLocaleString()}
                              </div>
                            </div>
                          )}
                        </div>
                      </div>
                      <div className="text-gray-400 text-sm">
                        {playerCount} total winners {gameMode === 'paid' ? `split the $${prizePool.toLocaleString()} prize pool` : 'crowned as champions!'}
                      </div>
                    </div>
                  )}

                  {/* Eliminated State */}
                  {gameState === 'eliminated' && (
                    <div className="p-6 text-center">
                      <div className="text-red-400 text-6xl mb-4">üíÄ</div>
                      <h2 className="text-3xl font-bold text-red-400 mb-4">Game Over!</h2>
                      <div className="bg-red-400/20 rounded-lg p-6 border-2 border-red-400/50 mb-4">
                        <p className="text-red-300 text-lg font-semibold mb-4">
                          You made it to Question {currentQuestion + 1} of {questions.length}
                        </p>
                        <div className="bg-gray-700/50 rounded-lg p-4">
                          <div className="text-gray-300 mb-2">
                            Final Stats:
                          </div>
                          <div className="text-blue-400 font-semibold">
                            Outlasted {(8347 - playerCount).toLocaleString()} players!
                          </div>
                        </div>
                      </div>
                      <div className="bg-gray-700/50 rounded-lg p-4">
                        <div className="text-gray-300 text-sm">
                          Better luck next time! Next tournament in 12 hours.
                        </div>
                      </div>
                    </div>
                  )}
                </div>

                {/* Controls */}
                <div className="mt-6 flex gap-3">
                  <button
                    onClick={resetGame}
                    className="flex-1 bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition-colors"
                  >
                    Play Again
                  </button>
                  <button
                    onClick={skipTimer}
                    className="bg-yellow-600 hover:bg-yellow-700 px-4 py-3 rounded-lg font-semibold transition-colors flex items-center gap-2"
                  >
                    <Target size={16} />
                    Skip Timer
                  </button>
                </div>

                {celebration && (
                  <div className="fixed inset-0 flex items-center justify-center pointer-events-none">
                    <div className="text-8xl animate-bounce">üëë</div>
                  </div>
                )}
                
                {prizeGrowth && (
                  <div className="fixed top-1/4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg font-bold slide-in">
                    üí∞ Prize Growing!
                  </div>
                )}
              </div>
            </div>
          );
        };

        // Use React 18 createRoot API
        const container = document.getElementById('root');
        const root = ReactDOM.createRoot(container);
        root.render(<TriviaRush />);
    </script>
</body>
</html>